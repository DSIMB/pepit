## installation
install.packages("pepit_1.0.tar.gz")

Deux scripts utilisent le package pepit.

## Créer une banque de binding sites
BuiltBSBank.R
# utilisation
Rscript ./BuiltBSBank.R  banque.dat Banque

# description de la banque
Le contenu de la banque est donné par le fichier banque.dat.
Ce fichier contient une ligne d'entête (un header)
et trois colonnes.
première colonne : un id pdb sur 4 caractères qui est l'identifiant pdb d'un complexe protéine-peptide;
seconde colonne : chaîne de la protéine;
troisième colonne : chaîne du peptide;
d'autres colonnes peuvent être ajoutées mais ne ne sont utilisées pour la création de la banque
# exemple
PDB Receptor.Chain Peptide.Chain Peptide.Size
148l E S 5
1a07 A C 3
1a07 B D 3
1a08 A C 3

# la banque
La banque est un répertoire vide qu'il faut créer au préalable

# output
Le script crée dans le répertoire <Banque> un fichier pdb pour chaque ligne.
Chaque fichier pdb contient les atomes du récepteur en contact avec le peptide (par défaut à moins de 5A).
Les atomes sont annotés (typed) comme A,C,O,N,a,b,c,o,n mis dans la colonne pdb "element symbol"
et l'accessibilité au solvant est mise dans la colonne "Temperature factor".
Le fichier est nommé idX:Y.pdb, avec X la chaîne ou la liste des chaînes du récepteurs et Y la chaîne du peptide.

# sous bash
echo "PDB Receptor.Chain Peptide.Chain Peptide.Size" > banque.dat
echo "148l E S" >> banque.dat
echo "1a07 A C" >> banque.dat
echo "1a07 B D" >> banque.dat
echo "1a08 A C" >> banque.dat

mkdir Banque
Rscript ./BuiltBSBank.R  banque.dat Banque

crée: Banque/148lE:S.pdb, Banque/1a07A:C.pdb, Banque/1a07B:D.pdb, Banque/1a08A:C.pdb

## Rechercher des peptides
utiliser le script pepit.R
# utilisation
Rscript ./pepit.R target target_chain BSBank prefix

- target est un fichier pdb ou un identifiant pdb. Dans ce cas, pepit charge le pdb du site de la Protein Data Bank RCSB PDB.
- target_chain précise la chaîne receptrice. Cela peut être une chaîne seule ou une liste de chaîne sous la forme H,L ou A,B,C ou "*" pour toutes les chaînes
- BSBank est un répertoire de binding sites crée par le script BuiltBSBank.R
- prefix est une chaîne de caractères utilisé pour nommer les fichiers de sorties.

Le script produit 1 fichier de sortie: <prefix>.score
si le paramètre POSE est mis à TRUE, une fichier d'alignements est crée <prefix>.al avec les fichiers pdb correspondants.
Dans chacun des fichiers se trouvent un peptide déplacé et orienté sur la cible.

# exemple
Rscript ./pepit.R 148l E  Banque test

## Modifier les paramètres
Directement au début du script;
Par exemple:
#
# user defined parameters
#
set.pepit("RESIDUES","")
set.pepit("MINSCORE", 0) # tous les scores
set.pepit("MAXCLASHES", 10)
set.pepit("NBHITS", 5)
set.pepit("POSE", TRUE)
set.pepit("PRECISION", 2.0)
set.pepit("TYPES", c("A","C","O","N"))
set.pepit("PVALUE", TRUE)
